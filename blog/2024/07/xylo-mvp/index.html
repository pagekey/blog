<!DOCTYPE html><html class="2xl:text-[20px]" dir="ltr" lang="en"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><link href="/sitemap-index.xml" rel="sitemap"><link href="/_astro/favicon.EoKXths8.ico" rel="shortcut icon"><link href="/_astro/favicon.Ca94UIdJ.svg" rel="icon" type="image/svg+xml"><link href="/_astro/favicon.Ca94UIdJ.svg" rel="mask-icon" color="#8D46E7"><link href="/_astro/apple-touch-icon.Ctlcgf5O.png" rel="apple-touch-icon" sizes="180x180"><style>:root{--aw-font-sans:'InterVariable';--aw-font-serif:'InterVariable';--aw-font-heading:'InterVariable';--aw-color-primary:rgb(1 97 239);--aw-color-secondary:rgb(1 84 207);--aw-color-accent:rgb(109 40 217);--aw-color-text-heading:rgb(0 0 0);--aw-color-text-default:rgb(16 16 16);--aw-color-text-muted:rgb(16 16 16 / 66%);--aw-color-bg-page:rgb(255 255 255);--aw-color-bg-page-dark:rgb(3 6 32)}.dark{--aw-color-primary:rgb(1 97 239);--aw-color-secondary:rgb(1 84 207);--aw-color-accent:rgb(109 40 217);--aw-color-text-heading:rgb(247, 248, 248);--aw-color-text-default:rgb(229 236 246);--aw-color-text-muted:rgb(229 236 246 / 66%);--aw-color-bg-page:rgb(3 6 32)}.katex-html{display:none}html{--pagefind-ui-scale:1;--pagefind-ui-primary:rgb(1 97 239);--pagefind-ui-text:rgb(16 16 16);--pagefind-ui-background:rgb(255 255 255);--pagefind-ui-border:rgb(16 16 16 / 66%);--pagefind-ui-tag:rgb(16 16 16 / 66%);--pagefind-ui-border-width:2px;--pagefind-ui-border-radius:8px;--pagefind-ui-image-border-radius:8px;--pagefind-ui-image-box-ratio:3/2;--pagefind-ui-font:sans-serif}html.dark{--pagefind-ui-scale:1;--pagefind-ui-primary:rgb(1 97 239);--pagefind-ui-text:rgb(229 236 246);--pagefind-ui-background:rgb(3 6 32);--pagefind-ui-border:rgb(229 236 246 / 66%);--pagefind-ui-tag:rgb(229 236 246 / 66%);--pagefind-ui-border-width:2px;--pagefind-ui-border-radius:8px;--pagefind-ui-image-border-radius:8px;--pagefind-ui-image-box-ratio:3/2;--pagefind-ui-font:sans-serif}html.dark .pagefind-ui button{color:rgb(229 236 246)}html.dark .pagefind-ui button:hover{color:rgb(229 236 246);border-color:rgb(229 236 246)}.header-read{color:gray}</style><script>!function(){const e="system";function t(e){"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const t=document.querySelectorAll("[data-aw-toggle-color-scheme] > input");t&&t.length&&t.forEach((t=>{t.checked="dark"!==e}))}e&&e.endsWith(":only")||(localStorage.theme,0)?t(e.replace(":only","")):"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):t("light")}()</script><title>Combining Frontend and Backend - Xylo App Framework MVP — PageKey</title><meta content="🚀 Let&#39;s take back tech." name="description"/><meta content="index,follow" name="robots"/><link href="https://pagekey.io/blog/2024/07/xylo-mvp" rel="canonical"/><meta content="Combining Frontend and Backend - Xylo App Framework MVP" property="og:title"/><meta content="🚀 Let&#39;s take back tech." property="og:description"/><meta content="https://pagekey.io/blog/2024/07/xylo-mvp" property="og:url"/><meta content="article" property="og:type"/><meta content="http://i3.ytimg.com/vi/9oyM4b8wu0Y/hqdefault.jpg" property="og:image"/><meta content="en" property="og:locale"/><meta content="PageKey" property="og:site_name"/><meta content="summary_large_image" name="twitter:card"/><meta content="@onwidget" name="twitter:site"/><meta content="@onwidget" name="twitter:creator"/><meta content="orcPxI47GSa-cRvY11tUe6iGg2IO_RPvnA1q95iEM3M" name="google-site-verification"><link href="/_astro/_page_.BDj0p3vH.css" rel="stylesheet"><style>#blog-sidebar[data-astro-cid-wo4vtnkt]{display:none;padding:1rem;position:relative}@media screen and (min-width:72rem){#blog-sidebar[data-astro-cid-wo4vtnkt]{display:block}}</style></head><body class="antialiased bg-page text-default tracking-tight"><div id="top"></div><header class="mx-auto w-full border-b border-gray-50/0 ease-in-out flex-none sticky top-0 transition-[opacity] z-40" data-aw-sticky-header id="header"><div class="absolute inset-0"></div><div class="mx-auto w-full max-w-7xl md:flex md:justify-between md:px-6 px-3 py-3 relative text-default"><div class="flex justify-between"><a href="/" class="flex items-center"><span class="font-bold dark:text-white md:text-xl ml-2 rtl:ml-0 rtl:mr-2 self-center text-2xl text-gray-900 whitespace-nowrap"><span id="pks-daily-emoji">🔑</span> PageKey</span><script>function getDailyEmoji(){const e=new Date,t=60*e.getTimezoneOffset()*1e3,n=e.getTime()-t,i=["📄","🔑","🌩","🗣","🚁","🛎","😳","🐋","📈","🚀","🛰️","📢","🐘","🏆","🔋","🦀","🍍","🍇","⛰","🐧","🎈"];return i[Math.floor(n/864e5)%i.length]}window.addEventListener("DOMContentLoaded",(()=>{document.getElementById("pks-daily-emoji").innerHTML=getDailyEmoji()}))</script></a><div class="flex items-center md:hidden"><button class="flex flex-col cursor-pointer group h-12 items-center justify-center rounded w-12" aria-label="Toggle Menu" data-aw-toggle-menu><span class="sr-only">Toggle Menu</span> <span class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:rotate-45 group-[.expanded]:translate-y-2.5" aria-hidden="true"></span> <span class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:opacity-0" aria-hidden="true"></span> <span class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:-rotate-45 group-[.expanded]:-translate-y-2.5" aria-hidden="true"></span></button></div></div><nav aria-label="Main navigation" class="items-center md:w-auto w-full hidden md:flex md:mx-5 md:overflow-x-auto md:overflow-y-visible overflow-x-hidden overflow-y-auto text-default"><ul class="flex flex-col font-medium md:flex-row md:self-center md:text-[0.9375rem] md:w-auto text-xl tracking-[0.01rem] w-full"><li class=""><a href="/" class="flex px-4 dark:hover:text-white hover:text-link py-3 items-centers">Home</a></li><li class="dropdown"><button class="flex items-center dark:hover:text-white hover:text-link px-4 py-3">Products <svg class="rtl:ml-0 h-3.5 hidden md:inline ml-0.5 rtl:mr-0.5 w-3.5" data-icon="tabler:chevron-down" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:chevron-down"><path d="m6 9l6 6l6-6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:chevron-down"></use></svg></button><ul class="dark:md:bg-dark drop-shadow-xl dropdown-menu font-medium md:absolute md:backdrop-blur-md md:bg-white/90 md:hidden md:min-w-[200px] md:pl-0 pl-4 rounded"><li><a href="/products/boom" class="dark:hover:text-white hover:text-link block dark:hover:bg-gray-700 first:rounded-t last:rounded-b md:hover:bg-gray-100 px-5 py-2 whitespace-no-wrap">💣 Boom Languages</a></li><li><a href="/products/keydo" class="dark:hover:text-white hover:text-link block dark:hover:bg-gray-700 first:rounded-t last:rounded-b md:hover:bg-gray-100 px-5 py-2 whitespace-no-wrap">✅ KeyDo</a></li><li><a href="/products/pkos" class="dark:hover:text-white hover:text-link block dark:hover:bg-gray-700 first:rounded-t last:rounded-b md:hover:bg-gray-100 px-5 py-2 whitespace-no-wrap">💻 PageKey Operating System</a></li><li><a href="/products/pkvid" class="dark:hover:text-white hover:text-link block dark:hover:bg-gray-700 first:rounded-t last:rounded-b md:hover:bg-gray-100 px-5 py-2 whitespace-no-wrap">🎥 PKVid</a></li><li><a href="/products/ptd" class="dark:hover:text-white hover:text-link block dark:hover:bg-gray-700 first:rounded-t last:rounded-b md:hover:bg-gray-100 px-5 py-2 whitespace-no-wrap">🎹 Plaintext DAW</a></li></ul></li><li class=""><a href="/blog" class="flex px-4 dark:hover:text-white hover:text-link py-3 items-centers">Blog</a></li><li class=""><a href="/team" class="flex px-4 dark:hover:text-white hover:text-link py-3 items-centers">Team</a></li></ul></nav><div class="items-center md:w-auto w-full hidden md:flex bottom-0 fixed justify-end left-0 md:mb-0 md:p-0 md:self-center md:static p-3 rtl:left-auto rtl:right-0"><div class="flex items-center justify-between md:w-auto w-full"><div class="flex"><button class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="Toggle between Dark and Light mode" data-aw-toggle-color-scheme type="button"><svg class="w-6 h-6 md:h-5 md:inline-block md:w-5" data-icon="tabler:sun" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:sun"><path d="M8 12a4 4 0 1 0 8 0a4 4 0 1 0-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7l-.7.7m0 11.4l.7.7m-12.1-.7l-.7.7" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:sun"></use></svg></button> <a href="/search" class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="Search"><svg class="h-5 w-5" data-icon="tabler:search" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:search"><path d="M3 10a7 7 0 1 0 14 0a7 7 0 1 0-14 0m18 11l-6-6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:search"></use></svg></a></div></div></div></div></header><main><script>var topOffset=0;window.addEventListener("load",(function(){const e=window.getComputedStyle(document.getElementById("single-post-section"),null).getPropertyValue("padding-top").replace("px",""),t=document.getElementById("header").getBoundingClientRect().height;topOffset=parseInt(e)+1.5*t;document.querySelectorAll("#post-content h2, #post-content h3").forEach((function(e){console.log(e.tagName),"H2"==e.tagName?document.getElementById("ul-contents").innerHTML+=`<li id="li-${e.id}"><a href="#${e.id}">${e.innerText}</a></li>`:"H3"==e.tagName&&(document.getElementById("ul-contents").innerHTML+=`<li id="li-${e.id}" class='ml-4'><a href="#${e.id}">${e.innerText}</a></li>`)}))})),window.addEventListener("scroll",(function(e){window.scrollY>topOffset?document.getElementById("blog-sidebar").style.top=window.scrollY-topOffset/2+"px":document.getElementById("blog-sidebar").style.top="0";document.querySelectorAll("#post-content h2, #post-content h3").forEach((function(e){window.scrollY>e.offsetTop?document.getElementById(`li-${e.id}`).classList.add("header-read"):document.getElementById(`li-${e.id}`).classList.remove("header-read")}))}))</script><section class="flex lg:py-20 justify-center mx-auto py-8 sm:py-16" data-astro-cid-wo4vtnkt id="single-post-section"><article data-astro-cid-wo4vtnkt id="single-post"><header class="" data-astro-cid-wo4vtnkt><div class="mb-2 flex flex-col justify-between max-w-3xl mt-0 mx-auto px-4 sm:flex-row sm:items-center sm:px-6" data-astro-cid-wo4vtnkt><p data-astro-cid-wo4vtnkt><svg class="inline-block -mt-0.5 dark:text-gray-400 h-4 w-4" data-icon="tabler:clock" height="1em" viewBox="0 0 24 24" width="1em" data-astro-cid-wo4vtnkt><symbol id="ai:tabler:clock"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0-18 0"/><path d="M12 7v5l3 3"/></g></symbol><use xlink:href="#ai:tabler:clock"></use></svg> <time class="inline-block" data-astro-cid-wo4vtnkt datetime="Fri Jul 05 2024 00:00:00 GMT+0000 (Coordinated Universal Time)">Jul 5, 2024</time> · <svg class="inline-block -mt-0.5 dark:text-gray-400 h-4 w-4" data-icon="tabler:user" height="1em" viewBox="0 0 24 24" width="1em" data-astro-cid-wo4vtnkt><symbol id="ai:tabler:user"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0-8 0M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:user"></use></svg> <span class="inline-block" data-astro-cid-wo4vtnkt>Steve Grice</span> · <a href="/category/xylo" class="inline-block capitalize hover:underline" data-astro-cid-wo4vtnkt>xylo </a>&nbsp;· <span data-astro-cid-wo4vtnkt>10</span> min read</p></div><h1 class="mx-auto sm:px-6 max-w-3xl px-4 font-bold font-heading leading-tighter md:text-5xl text-4xl tracking-tighter" data-astro-cid-wo4vtnkt>Combining Frontend and Backend - Xylo App Framework MVP</h1><p class="text-muted dark:text-slate-400 max-w-3xl mb-8 md:text-2xl mt-4 mx-auto px-4 sm:px-6 text-justify text-xl" data-astro-cid-wo4vtnkt></p><img alt="" class="dark:bg-slate-700 bg-gray-400 mb-6 lg:max-w-[900px] max-w-full mx-auto sm:rounded-md" decoding="async" height="506" loading="eager" sizes="(max-width: 900px) 400px, 900px" src="http://i3.ytimg.com/vi/9oyM4b8wu0Y/hqdefault.jpg" style="object-fit:cover;object-position:center;max-width:900px;max-height:506px;aspect-ratio:1.7786561264822134;width:100%" width="900" data-astro-cid-wo4vtnkt></header><div class="mx-auto sm:px-6 max-w-3xl px-6 mt-8 dark:prose-a:text-blue-400 dark:prose-headings:text-slate-300 dark:prose-invert lg:prose-xl prose prose-a:text-primary prose-headings:font-bold prose-headings:font-heading prose-headings:leading-tighter prose-headings:scroll-mt-[80px] prose-headings:tracking-tighter prose-img:rounded-md prose-img:shadow-lg prose-md" data-astro-cid-wo4vtnkt id="post-content"><p>I have so many app ideas, but so little time. I have plenty of videos about <a href="https://pagekey.io/products/boom/">Boom</a>, a language app that I wrote and rewrote several times. I learned so many lessons along the way, but those lessons are locked way inside the abandoned Boom codebases. I want to abstract that knowledge into a reusable framework so that anyone can make use of them to create apps quickly and easily.</p><p>This plays into my long-term vision of having highly customizable, maintainable apps available to everyone. I dream of a future where the code is clean and accessible enough for even the grandmas of our generation to make it work how they want it to. And, most importantly, I dream of everyone having their own servers and maintaining their own data, federating with other servers only when they choose. These are lofty dreams, probably not particularly profitable to implement, and surely thousands of hours of effort away. However, the only chance I’ll have of making them happen is to start chipping away at them now.</p><p>The way to start that journey is with Xylo, my Rust-based application framework.</p><div class="overflow-hidden text-center w-full"><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/9oyM4b8wu0Y" style="margin:auto;border-radius:10px" title="YouTube video player" width="560"></iframe></div><h2 id="demo-what-i-have-so-far">Demo: What I Have So Far</h2><p>Check out the codebase! I’ll link to a specific commit, since I’m sure there will be new changes by the time you read this: <a href="https://github.com/pagekey/xylo/tree/3c4d8770dabba209584fd42ad7d73eab814abe3c">3c4d877</a>.</p><p>As you can see, it doesn’t do too much yet. The README really covers all of the functionality you can do so far - you can create a new project and run it. Running the project will spin up two servers in the background - one for the frontend, and one for the backend. You can then pop open the frontend in your browser, and for now, the backend just prints a message to your terminal and does nothing else.</p><h2 id="code-tour">Code Tour</h2><p>I learned a lot about Rust while making this little MVP. In particular, there were lessons about making a CLI, launching and managing processes, and filling in a template by copying files.</p><h3 id="implementing-cli-with-structopt">Implementing CLI with Structopt</h3><p>Coming from the Python world, I was comfortable with <code>argparse</code>. Rust traits and enums were foreign to me, so the syntax used by <code>structopt</code> felt strange. Once I finally bit the bullet and defined all of the traits and enums, I was pleasantly surprised at how well and how easily it worked.</p><p>To use <code>structopt</code>, there are a few steps. First, create an enum to hold your CLI structure.</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">pub</span><span style="color:#f97583"> enum</span><span style="color:#b392f0"> Cli</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><p>Next, add annotations. The first annotation will denote that our enum derives from StructOpt, Debug, and PartialEq.</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> structopt</span><span style="color:#f97583">::</span><span style="color:#b392f0">StructOpt</span><span style="color:#e1e4e8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#e1e4e8">#[derive(</span><span style="color:#b392f0">StructOpt</span><span style="color:#e1e4e8">, </span><span style="color:#b392f0">Debug</span><span style="color:#e1e4e8">, </span><span style="color:#b392f0">PartialEq</span><span style="color:#e1e4e8">)]</span></span>
<span class="line"><span style="color:#f97583">pub</span><span style="color:#f97583"> enum</span><span style="color:#b392f0"> Cli</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><p>From my limited understanding so far, this seems to automatically create concrete implementations of these interfaces. Debug and PartialEq are built-in traits that make it easier to debug and use your object.</p><p>Add a second annotation to tell Structopt the name and description of your command (so that the <code>--help</code> menu can be auto-generated):</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#e1e4e8">#[derive(</span><span style="color:#b392f0">StructOpt</span><span style="color:#e1e4e8">, </span><span style="color:#b392f0">Debug</span><span style="color:#e1e4e8">, </span><span style="color:#b392f0">PartialEq</span><span style="color:#e1e4e8">)]</span></span>
<span class="line"><span style="color:#e1e4e8">#[structopt(name</span><span style="color:#f97583">=</span><span style="color:#9ecbff">&quot;xylo&quot;</span><span style="color:#e1e4e8">, about</span><span style="color:#f97583">=</span><span style="color:#9ecbff">&quot;Self-hosted app creation kit&quot;</span><span style="color:#e1e4e8">)]</span></span>
<span class="line"><span style="color:#f97583">pub</span><span style="color:#f97583"> enum</span><span style="color:#b392f0"> Cli</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><p>Finally, add variants for the enum. Each variant represents a subcommand for you CLI. Variants can have data associated with them - Structopt uses this data to add arguments to your subcommand. Let’s write:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#e1e4e8">#[derive(</span><span style="color:#b392f0">StructOpt</span><span style="color:#e1e4e8">, </span><span style="color:#b392f0">Debug</span><span style="color:#e1e4e8">, </span><span style="color:#b392f0">PartialEq</span><span style="color:#e1e4e8">)]</span></span>
<span class="line"><span style="color:#e1e4e8">#[structopt(name</span><span style="color:#f97583">=</span><span style="color:#9ecbff">&quot;xylo&quot;</span><span style="color:#e1e4e8">, about</span><span style="color:#f97583">=</span><span style="color:#9ecbff">&quot;Self-hosted app creation kit&quot;</span><span style="color:#e1e4e8">)]</span></span>
<span class="line"><span style="color:#f97583">pub</span><span style="color:#f97583"> enum</span><span style="color:#b392f0"> Cli</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#b392f0">    New</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#e1e4e8">        project_name</span><span style="color:#f97583">:</span><span style="color:#b392f0"> String</span><span style="color:#e1e4e8">,</span></span>
<span class="line"><span style="color:#e1e4e8">    },</span></span>
<span class="line"><span style="color:#b392f0">    Dev</span><span style="color:#e1e4e8">,</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><p>This will make it possible to use the <code>xylo new</code> command with a <code>project_name</code> argument or <code>xylo dev</code> by itself.</p><p>That’s great and all, but how do we use this fancy structure? We need to parse it. Thankfully, this part is actually pretty simple. Since we derive from <code>StructOpt</code>, we already have the <code>::from_args</code> method available to use for this very purpose.</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">let</span><span style="color:#e1e4e8"> args </span><span style="color:#f97583">=</span><span style="color:#b392f0"> Cli</span><span style="color:#f97583">::</span><span style="color:#b392f0">from_args</span><span style="color:#e1e4e8">();</span></span>
<span class="line"></span></code></pre><p>With that, we can now use the <code>args</code> variable to make decisions based on the arguments passed by the user. If the user passes arguments that don’t match our enum above, structopt will take care of letting them know - we don’t have to worry about it! Here’s how you can take different actions based on the args.</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">match</span><span style="color:#e1e4e8"> args {</span></span>
<span class="line"><span style="color:#b392f0">	Cli</span><span style="color:#f97583">::</span><span style="color:#b392f0">New</span><span style="color:#e1e4e8"> { project_name } </span><span style="color:#f97583">=&gt;</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#b392f0">		println!</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Creating new project: {}&quot;</span><span style="color:#e1e4e8">, project_name);</span></span>
<span class="line"><span style="color:#e1e4e8">	},</span></span>
<span class="line"><span style="color:#b392f0">	Cli</span><span style="color:#f97583">::</span><span style="color:#b392f0">Dev</span><span style="color:#f97583"> =&gt;</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#b392f0">		println!</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Starting dev server...&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#e1e4e8">	},</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><h3 id="process-management-with-command">Process management with Command</h3><p>An important part of this MVP was figuring out how to manage processes using Rust.</p><p>To get this done, we need the built-in <code>std::process::Command</code> struct. Running a command is fairly straightforward actually:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> std</span><span style="color:#f97583">::</span><span style="color:#b392f0">process</span><span style="color:#f97583">::</span><span style="color:#b392f0">Command</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#6a737d">// ...</span></span>
<span class="line"><span style="color:#b392f0">Command</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;echo&quot;</span><span style="color:#e1e4e8">)</span></span>
<span class="line"><span style="color:#f97583">	.</span><span style="color:#b392f0">args</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">vec!</span><span style="color:#e1e4e8">[</span><span style="color:#9ecbff">&quot;hello&quot;</span><span style="color:#e1e4e8">, </span><span style="color:#9ecbff">&quot;world&quot;</span><span style="color:#e1e4e8">])</span></span>
<span class="line"><span style="color:#f97583">	.</span><span style="color:#b392f0">output</span><span style="color:#e1e4e8">()</span></span>
<span class="line"><span style="color:#f97583">	.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Failed to echo message.&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"></span></code></pre><p>If you want to change directories before running the command, no need to fiddle with <code>cd</code> commands - just use <code>current_dir()</code>. For example, this will <code>cd</code> into the <code>.xylo/frontend</code> directory before starting the command:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> std</span><span style="color:#f97583">::</span><span style="color:#e1e4e8">env;</span></span>
<span class="line"><span style="color:#6a737d">// ...</span></span>
<span class="line"><span style="color:#f97583">let</span><span style="color:#e1e4e8"> original_dir </span><span style="color:#f97583">=</span><span style="color:#b392f0"> env</span><span style="color:#f97583">::</span><span style="color:#b392f0">current_dir</span><span style="color:#e1e4e8">()</span><span style="color:#f97583">.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Could not get current directory.&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#b392f0">Command</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;npm&quot;</span><span style="color:#e1e4e8">)</span></span>
<span class="line"><span style="color:#f97583">	.</span><span style="color:#b392f0">args</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">vec!</span><span style="color:#e1e4e8">[</span><span style="color:#9ecbff">&quot;install&quot;</span><span style="color:#e1e4e8">])</span></span>
<span class="line"><span style="color:#f97583">	.</span><span style="color:#b392f0">current_dir</span><span style="color:#e1e4e8">(original_dir</span><span style="color:#f97583">.</span><span style="color:#b392f0">join</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;.xylo&quot;</span><span style="color:#e1e4e8">)</span><span style="color:#f97583">.</span><span style="color:#b392f0">join</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;frontend&quot;</span><span style="color:#e1e4e8">))</span></span>
<span class="line"><span style="color:#f97583">	.</span><span style="color:#b392f0">output</span><span style="color:#e1e4e8">()</span></span>
<span class="line"><span style="color:#f97583">	.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Failed to install deps.&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"></span></code></pre><h3 id="managing-background-processes-with-ctrlc">Managing Background Processes with Ctrlc</h3><p>Running one command synchronously is easy enough, but things get more complicated if you want to run things in the background while continuing to do other tasks. In the case of the Xylo MVP, the frontend and backend subprocesses need to run at the same time.</p><p>To make this happen, we need to start a thread, which is also fairly easy in Rust.</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> std</span><span style="color:#f97583">::</span><span style="color:#b392f0">time</span><span style="color:#f97583">::</span><span style="color:#b392f0">Duration</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> std</span><span style="color:#f97583">::</span><span style="color:#e1e4e8">thread;</span></span>
<span class="line"><span style="color:#6a737d">// ...</span></span>
<span class="line"><span style="color:#f97583">let</span><span style="color:#e1e4e8"> frontend_handle </span><span style="color:#f97583">=</span><span style="color:#b392f0"> thread</span><span style="color:#f97583">::</span><span style="color:#b392f0">spawn</span><span style="color:#e1e4e8">(</span><span style="color:#f97583">move</span><span style="color:#f97583"> ||</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#f97583">	loop</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#b392f0">		println!</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;hello&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#b392f0">		thread</span><span style="color:#f97583">::</span><span style="color:#b392f0">sleep</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">Duration</span><span style="color:#f97583">::</span><span style="color:#b392f0">from_millis</span><span style="color:#e1e4e8">(</span><span style="color:#79b8ff">1000</span><span style="color:#e1e4e8">));</span></span>
<span class="line"><span style="color:#e1e4e8">	}</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><p>This is a start - it prints a message every second forever. Next, we’ll want to actually launch a process and wait for it to complete. For this, we’ll have to use <code>Child</code> instead of <code>Command</code>.</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> std</span><span style="color:#f97583">::</span><span style="color:#b392f0">time</span><span style="color:#f97583">::</span><span style="color:#b392f0">Duration</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> std</span><span style="color:#f97583">::</span><span style="color:#e1e4e8">thread;</span></span>
<span class="line"><span style="color:#6a737d">// ...</span></span>
<span class="line"><span style="color:#f97583">let</span><span style="color:#e1e4e8"> frontend_handle </span><span style="color:#f97583">=</span><span style="color:#b392f0"> thread</span><span style="color:#f97583">::</span><span style="color:#b392f0">spawn</span><span style="color:#e1e4e8">(</span><span style="color:#f97583">move</span><span style="color:#f97583"> ||</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#f97583">	let</span><span style="color:#f97583"> mut</span><span style="color:#e1e4e8"> child</span><span style="color:#f97583">:</span><span style="color:#b392f0"> Option</span><span style="color:#e1e4e8">&lt;</span><span style="color:#b392f0">Child</span><span style="color:#e1e4e8">&gt; </span><span style="color:#f97583">=</span><span style="color:#b392f0"> None</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#f97583">	loop</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#f97583">		if</span><span style="color:#e1e4e8"> child</span><span style="color:#f97583">.</span><span style="color:#b392f0">is_none</span><span style="color:#e1e4e8">() {</span></span>
<span class="line"><span style="color:#e1e4e8">			child </span><span style="color:#f97583">=</span><span style="color:#b392f0"> Some</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">Command</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;npm&quot;</span><span style="color:#e1e4e8">)</span></span>
<span class="line"><span style="color:#f97583">				.</span><span style="color:#b392f0">args</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">vec!</span><span style="color:#e1e4e8">[</span><span style="color:#9ecbff">&quot;run&quot;</span><span style="color:#e1e4e8">,</span><span style="color:#9ecbff">&quot;dev&quot;</span><span style="color:#e1e4e8">])</span></span>
<span class="line"><span style="color:#f97583">				.</span><span style="color:#b392f0">spawn</span><span style="color:#e1e4e8">()</span></span>
<span class="line"><span style="color:#f97583">				.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Failed to start frontend dev server.&quot;</span><span style="color:#e1e4e8">));</span></span>
<span class="line"><span style="color:#e1e4e8">		}</span></span>
<span class="line"><span style="color:#f97583">		if</span><span style="color:#f97583"> let</span><span style="color:#b392f0"> Some</span><span style="color:#e1e4e8">(</span><span style="color:#f97583">ref</span><span style="color:#f97583"> mut</span><span style="color:#e1e4e8"> c) </span><span style="color:#f97583">=</span><span style="color:#e1e4e8"> child {</span></span>
<span class="line"><span style="color:#f97583">			match</span><span style="color:#e1e4e8"> c</span><span style="color:#f97583">.</span><span style="color:#b392f0">try_wait</span><span style="color:#e1e4e8">() {</span></span>
<span class="line"><span style="color:#b392f0">				Ok</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">Some</span><span style="color:#e1e4e8">(status)) </span><span style="color:#f97583">=&gt;</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#b392f0">					println!</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Frontend exited with status: {}&quot;</span><span style="color:#e1e4e8">, status);</span></span>
<span class="line"><span style="color:#f97583">					break</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#e1e4e8">				}</span></span>
<span class="line"><span style="color:#b392f0">				Ok</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">None</span><span style="color:#e1e4e8">) </span><span style="color:#f97583">=&gt;</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#6a737d">					// Still running</span></span>
<span class="line"><span style="color:#e1e4e8">				}</span></span>
<span class="line"><span style="color:#b392f0">				Err</span><span style="color:#e1e4e8">(e) </span><span style="color:#f97583">=&gt;</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#b392f0">					println!</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Error checking command status: {}&quot;</span><span style="color:#e1e4e8">, e);</span></span>
<span class="line"><span style="color:#f97583">					break</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#e1e4e8">				}</span></span>
<span class="line"><span style="color:#e1e4e8">			}</span></span>
<span class="line"><span style="color:#e1e4e8">		}</span></span>
<span class="line"><span style="color:#b392f0">		thread</span><span style="color:#f97583">::</span><span style="color:#b392f0">sleep</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">Duration</span><span style="color:#f97583">::</span><span style="color:#b392f0">from_millis</span><span style="color:#e1e4e8">(</span><span style="color:#79b8ff">1000</span><span style="color:#e1e4e8">));</span></span>
<span class="line"><span style="color:#e1e4e8">	}</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><p>The code to create the <code>Child</code> is very similar to what was used to create a <code>Command</code>. Then, after it has been created, we wait for the process to finish. However, you have to hit CTRL-C multiple times to get the program to exit, which is messy. If we catch and handle the CTRL-C signal, we can clean up our program’s resources and exit right away. We can do this by using a variable that is shared across the two threads:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> std</span><span style="color:#f97583">::</span><span style="color:#b392f0">sync</span><span style="color:#f97583">::</span><span style="color:#b392f0">atomic</span><span style="color:#f97583">::</span><span style="color:#e1e4e8">{</span><span style="color:#b392f0">AtomicBool</span><span style="color:#e1e4e8">, </span><span style="color:#b392f0">Ordering</span><span style="color:#e1e4e8">};</span></span>
<span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> std</span><span style="color:#f97583">::</span><span style="color:#b392f0">sync</span><span style="color:#f97583">::</span><span style="color:#b392f0">Arc</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#6a737d">// ...</span></span>
<span class="line"><span style="color:#f97583">let</span><span style="color:#e1e4e8"> running </span><span style="color:#f97583">=</span><span style="color:#b392f0"> Arc</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">AtomicBool</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#79b8ff">true</span><span style="color:#e1e4e8">)); </span><span style="color:#6a737d">// for thread</span></span>
<span class="line"><span style="color:#f97583">let</span><span style="color:#e1e4e8"> r </span><span style="color:#f97583">=</span><span style="color:#e1e4e8"> running</span><span style="color:#f97583">.</span><span style="color:#b392f0">clone</span><span style="color:#e1e4e8">(); </span><span style="color:#6a737d">// for ctrl-c handler</span></span>
<span class="line"></span></code></pre><p>Next, set up the handler to modify this variable when the user hits CTRL-C:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#b392f0">ctrlc</span><span style="color:#f97583">::</span><span style="color:#b392f0">set_handler</span><span style="color:#e1e4e8">(</span><span style="color:#f97583">move</span><span style="color:#f97583"> ||</span><span style="color:#e1e4e8"> {</span></span>
<span class="line"><span style="color:#b392f0">	println!</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;CTRL-C pressed&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#e1e4e8">	r</span><span style="color:#f97583">.</span><span style="color:#b392f0">store</span><span style="color:#e1e4e8">(</span><span style="color:#79b8ff">false</span><span style="color:#e1e4e8">, </span><span style="color:#b392f0">Ordering</span><span style="color:#f97583">::</span><span style="color:#b392f0">SeqCst</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#e1e4e8">})</span><span style="color:#f97583">.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Error setting CTRL-C handler.&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"></span></code></pre><p>Finally, modify the loop above to check this variable instead of looping forever. When the variable is set to false, kill the child process so that we can exit cleanly:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">let</span><span style="color:#f97583"> mut</span><span style="color:#e1e4e8"> child</span><span style="color:#f97583">:</span><span style="color:#b392f0"> Option</span><span style="color:#e1e4e8">&lt;</span><span style="color:#b392f0">Child</span><span style="color:#e1e4e8">&gt; </span><span style="color:#f97583">=</span><span style="color:#b392f0"> None</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#f97583">while</span><span style="color:#e1e4e8"> running</span><span style="color:#f97583">.</span><span style="color:#b392f0">load</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">Ordering</span><span style="color:#f97583">::</span><span style="color:#b392f0">SeqCst</span><span style="color:#e1e4e8">) {</span></span>
<span class="line"><span style="color:#6a737d">	// ...</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"><span style="color:#f97583">if</span><span style="color:#f97583"> let</span><span style="color:#b392f0"> Some</span><span style="color:#e1e4e8">(</span><span style="color:#f97583">mut</span><span style="color:#e1e4e8"> c) </span><span style="color:#f97583">=</span><span style="color:#e1e4e8"> child {</span></span>
<span class="line"><span style="color:#e1e4e8">	c</span><span style="color:#f97583">.</span><span style="color:#b392f0">kill</span><span style="color:#e1e4e8">()</span><span style="color:#f97583">.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Failed to kill frontend.&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#b392f0">	println!</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Frontend killed.&quot;</span><span style="color:#e1e4e8">)</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><h3 id="templates-with-rustembed-and-walkdir">Templates with RustEmbed and Walkdir</h3><p>Xylo generates projects by copying template files into a new directory. Actually, it doesn’t make any changes to those files yet, but eventually it will.</p><p>Nevertheless, this presents an interesting problem. Where do we copy the files from? Do we need an installer to copy our template files somewhere onto the user’s system before they can use it? Or is there a way to bundle everything into the executable so we don’t have to worry about it?</p><p>Thankfully, the latter is an option, and it’s what I opted to use for Xylo. By using the RustEmbed package, you can embed files directly into your compiled Rust program.</p><p>Initial setup is very simple. Just declare the folder where your assets will be stored:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">use</span><span style="color:#b392f0"> rust_embed</span><span style="color:#f97583">::</span><span style="color:#b392f0">RustEmbed</span><span style="color:#e1e4e8">;</span></span>
<span class="line"><span style="color:#e1e4e8">#[derive(</span><span style="color:#b392f0">RustEmbed</span><span style="color:#e1e4e8">)]</span></span>
<span class="line"><span style="color:#e1e4e8">#[folder</span><span style="color:#f97583">=</span><span style="color:#9ecbff">&quot;templates/&quot;</span><span style="color:#e1e4e8">]</span></span>
<span class="line"><span style="color:#f97583">struct</span><span style="color:#b392f0"> Asset</span><span style="color:#e1e4e8">;</span></span>
<span class="line"></span></code></pre><p>Then, you can use that Asset struct to iterate your template files and do whatever you need with them.</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">for</span><span style="color:#e1e4e8"> file </span><span style="color:#f97583">in</span><span style="color:#b392f0"> Asset</span><span style="color:#f97583">::</span><span style="color:#b392f0">iter</span><span style="color:#e1e4e8">() {</span></span>
<span class="line"><span style="color:#f97583">	let</span><span style="color:#e1e4e8"> file_in </span><span style="color:#f97583">=</span><span style="color:#b392f0"> Asset</span><span style="color:#f97583">::</span><span style="color:#b392f0">get</span><span style="color:#e1e4e8">(file</span><span style="color:#f97583">.</span><span style="color:#b392f0">as_ref</span><span style="color:#e1e4e8">())</span><span style="color:#f97583">.</span><span style="color:#b392f0">unwrap</span><span style="color:#e1e4e8">();</span></span>
<span class="line"><span style="color:#f97583">	let</span><span style="color:#e1e4e8"> file_out_path </span><span style="color:#f97583">=</span><span style="color:#b392f0"> Path</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;some_path&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#f97583">	let</span><span style="color:#f97583"> mut</span><span style="color:#e1e4e8"> file_out </span><span style="color:#f97583">=</span><span style="color:#b392f0"> fs</span><span style="color:#f97583">::</span><span style="color:#b392f0">File</span><span style="color:#f97583">::</span><span style="color:#b392f0">create</span><span style="color:#e1e4e8">(file_out_path)</span><span style="color:#f97583">.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Failed to create file.&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#f97583">	let</span><span style="color:#e1e4e8"> content </span><span style="color:#f97583">=</span><span style="color:#e1e4e8"> file_in</span><span style="color:#f97583">.</span><span style="color:#e1e4e8">data</span><span style="color:#f97583">.</span><span style="color:#b392f0">as_ref</span><span style="color:#e1e4e8">();</span></span>
<span class="line"><span style="color:#e1e4e8">	file_out</span><span style="color:#f97583">.</span><span style="color:#b392f0">write_all</span><span style="color:#e1e4e8">(content)</span><span style="color:#f97583">.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Failed to write template content to file.&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><p>This was great for copying the templates into the new project. After that was done, I wanted to sync those copied files into a <code>.xylo</code> directory to make sure that whatever the user does to the Xylo app gets synced with the Next.js and Rust apps that are running things behind the scenes. This can be accomplished with Walkdir:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#f97583">let</span><span style="color:#e1e4e8"> original_dir </span><span style="color:#f97583">=</span><span style="color:#b392f0"> env</span><span style="color:#f97583">::</span><span style="color:#b392f0">current_dir</span><span style="color:#e1e4e8">()</span><span style="color:#f97583">.</span><span style="color:#b392f0">expect</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;Could not get current directory.&quot;</span><span style="color:#e1e4e8">);</span></span>
<span class="line"><span style="color:#6a737d">// Copy all files for frontend/backend into the .xylo dir</span></span>
<span class="line"><span style="color:#f97583">for</span><span style="color:#e1e4e8"> entry </span><span style="color:#f97583">in</span><span style="color:#b392f0"> WalkDir</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;backend&quot;</span><span style="color:#e1e4e8">)</span><span style="color:#f97583">.</span><span style="color:#b392f0">into_iter</span><span style="color:#e1e4e8">()</span><span style="color:#f97583">.</span><span style="color:#b392f0">filter_map</span><span style="color:#e1e4e8">(</span><span style="color:#b392f0">Result</span><span style="color:#f97583">::</span><span style="color:#e1e4e8">ok) {</span></span>
<span class="line"><span style="color:#6a737d">	// For each file,</span></span>
<span class="line"><span style="color:#f97583">	if</span><span style="color:#e1e4e8"> entry</span><span style="color:#f97583">.</span><span style="color:#b392f0">file_type</span><span style="color:#e1e4e8">()</span><span style="color:#f97583">.</span><span style="color:#b392f0">is_file</span><span style="color:#e1e4e8">() {</span></span>
<span class="line"><span style="color:#6a737d">		// Check if the file&#39;s parent dir exists in the target location</span></span>
<span class="line"><span style="color:#6a737d">		// Do `mkdir -p` to ensure all directories are created up to that point</span></span>
<span class="line"><span style="color:#f97583">		if</span><span style="color:#f97583"> let</span><span style="color:#b392f0"> Some</span><span style="color:#e1e4e8">(dir) </span><span style="color:#f97583">=</span><span style="color:#e1e4e8"> entry</span><span style="color:#f97583">.</span><span style="color:#b392f0">path</span><span style="color:#e1e4e8">()</span><span style="color:#f97583">.</span><span style="color:#b392f0">parent</span><span style="color:#e1e4e8">() {</span></span>
<span class="line"><span style="color:#f97583">			let</span><span style="color:#e1e4e8"> target_dir </span><span style="color:#f97583">=</span><span style="color:#b392f0"> Path</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;.xylo&quot;</span><span style="color:#e1e4e8">)</span><span style="color:#f97583">.</span><span style="color:#b392f0">join</span><span style="color:#e1e4e8">(dir);</span></span>
<span class="line"><span style="color:#b392f0">			fs</span><span style="color:#f97583">::</span><span style="color:#b392f0">create_dir_all</span><span style="color:#e1e4e8">(target_dir)</span><span style="color:#f97583">.</span><span style="color:#b392f0">unwrap</span><span style="color:#e1e4e8">();</span></span>
<span class="line"><span style="color:#e1e4e8">		}</span></span>
<span class="line"><span style="color:#6a737d">		// Copy over the file</span></span>
<span class="line"><span style="color:#f97583">		let</span><span style="color:#e1e4e8"> target_path </span><span style="color:#f97583">=</span><span style="color:#b392f0"> Path</span><span style="color:#f97583">::</span><span style="color:#b392f0">new</span><span style="color:#e1e4e8">(</span><span style="color:#9ecbff">&quot;.xylo&quot;</span><span style="color:#e1e4e8">)</span><span style="color:#f97583">.</span><span style="color:#b392f0">join</span><span style="color:#e1e4e8">(entry</span><span style="color:#f97583">.</span><span style="color:#b392f0">path</span><span style="color:#e1e4e8">());</span></span>
<span class="line"><span style="color:#b392f0">		fs</span><span style="color:#f97583">::</span><span style="color:#b392f0">copy</span><span style="color:#e1e4e8">(entry</span><span style="color:#f97583">.</span><span style="color:#b392f0">path</span><span style="color:#e1e4e8">(), target_path);</span></span>
<span class="line"><span style="color:#e1e4e8">	}</span></span>
<span class="line"><span style="color:#e1e4e8">}</span></span>
<span class="line"></span></code></pre><h3 id="testing-and-design">Testing and Design</h3><p>I tried to implement everything with Test Driven Development (TDD) at first, and I learned a lot about Rust testing while doing so. However, I gave up after a bit of trying, mostly because I’m trying to figure out how to make a prototype work. While it’s surely better to do so in the long run, trying to have 100% test coverage was making it nearly impossible for me to make any progress.</p><p>Eventually, I’ll need to go back, refactor, and do things properly once the basics have been figured out. It would be good to redesign all of the code to use dependency injection and classes that use SOLID principles so that I can properly unit test everything.</p><p>I added one integration test that invokes the <code>new</code> command programmatically. It took several seconds to run at first, because I was running the <code>npm create next; npm install</code> commands directly. However, now that I’m just copying template files using RustEmbed, it runs as fast as lightning.</p><h2 id="next-steps">Next Steps</h2><p>The main technical challenge that I see is tying the frontend to the backend in an easy way. I’d like to abstract away as many details of this as possible from the user. I need to create a concept of Xylo “routes” and provide ways to invoke each route in the frontend and backend apps. By setting up a route, the user tells Xylo to create a REST endpoint on the backend that can easily be invoked on the frontend.</p><p>I’m going to use my re-implementation of Boom Languages to drive progress. It will help immensely to have a real-world app written in Xylo - it will make me instantly aware of where Xylo falls short in terms of features. I think a good first step would be implementing flashcards in Boom.</p><p>I’ll also need to carefully document the process for deploying each piece of the puzzle - the backend, web frontend, desktop frontend, and mobile. For now, I’ll just concentrate on the backend and the web frontend. I can leverage the same web frontend later and turn it into a mobile app with Capacitor. Similarly, I may be able to find a way to make it a desktop app using Tauri.</p><p>Another goal for this project is to have an equivalent CLI for each Xylo route. This may be a lofty goal, because there’s already a ton of integration required to get all the frontend/backend pieces working, but it may be possible to map the Route object into an auto-generated CLI too. I’ll have to take this into consideration when designing routes.</p></div><div class="flex flex-col justify-between max-w-3xl mx-auto sm:flex-row sm:px-6 mt-8 px-6" data-astro-cid-wo4vtnkt><ul class="mr-5 rtl:ml-5 rtl:mr-0"><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/design" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">design</a></li><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/rust" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">rust</a></li><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/javascript" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">javascript</a></li><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/nextjs" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">nextjs</a></li><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/self-hosting" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">self-hosting</a></li></ul><div class="align-middle dark:text-slate-600 mt-5 sm:mt-1 text-gray-500"><span class="font-bold align-super dark:text-slate-400 text-gray-400">Share:</span> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="twitter" data-aw-url="https://pagekey.io/blog/2024/07/xylo-mvp" title="Twitter Share" data-aw-text="Combining Frontend and Backend - Xylo App Framework MVP"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:brand-x" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-x"><path d="m4 4l11.733 16H20L8.267 4zm0 16l6.768-6.768m2.46-2.46L20 4" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:brand-x"></use></svg></button> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="facebook" data-aw-url="https://pagekey.io/blog/2024/07/xylo-mvp" title="Facebook Share"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:brand-facebook" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-facebook"><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 0 1 1-1h3V3h-3a5 5 0 0 0-5 5v2z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:brand-facebook"></use></svg></button> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="linkedin" data-aw-url="https://pagekey.io/blog/2024/07/xylo-mvp" title="Linkedin Share" data-aw-text="Combining Frontend and Backend - Xylo App Framework MVP"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:brand-linkedin" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm4 5v5m0-8v.01M12 16v-5"/><path d="M16 16v-3a2 2 0 0 0-4 0"/></g></symbol><use xlink:href="#ai:tabler:brand-linkedin"></use></svg></button> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="whatsapp" data-aw-url="https://pagekey.io/blog/2024/07/xylo-mvp" title="Whatsapp Share" data-aw-text="Combining Frontend and Backend - Xylo App Framework MVP"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:brand-whatsapp" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-whatsapp"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m3 21l1.65-3.8a9 9 0 1 1 3.4 2.9z"/><path d="M9 10a.5.5 0 0 0 1 0V9a.5.5 0 0 0-1 0za5 5 0 0 0 5 5h1a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1"/></g></symbol><use xlink:href="#ai:tabler:brand-whatsapp"></use></svg></button> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="mail" data-aw-url="https://pagekey.io/blog/2024/07/xylo-mvp" title="Email Share" data-aw-text="Combining Frontend and Backend - Xylo App Framework MVP"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:mail" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:mail"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="m3 7l9 6l9-6"/></g></symbol><use xlink:href="#ai:tabler:mail"></use></svg></button></div></div></article><div data-astro-cid-wo4vtnkt id="blog-sidebar"><b data-astro-cid-wo4vtnkt>Contents</b><ul data-astro-cid-wo4vtnkt id="ul-contents"><li data-astro-cid-wo4vtnkt><a href="#top" data-astro-cid-wo4vtnkt>Top</a></li></ul></div></section><div class="mx-auto sm:px-6 max-w-3xl px-6 md:pb-20 md:pt-4 pb-12 pt-8"><a href="/blog" class="btn btn-tertiary md:px-3 px-3"><svg class="h-5 w-5 -ml-1.5 mr-1 rtl:-mr-1.5 rtl:ml-1" data-icon="tabler:chevron-left" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:chevron-left"><path d="m15 6l-6 6l6 6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:chevron-left"></use></svg> Back to Blog</a></div><section class="relative not-prose scroll-mt-[72px]"><div class="absolute inset-0 pointer-events-none -z-[1]" aria-hidden="true"><div class="absolute inset-0"></div></div><div class="mx-auto px-4 max-w-7xl relative lg:pt-0 lg:py-20 md:pt-0 md:px-6 md:py-16 pt-0 py-12 text-default"><div class="flex flex-col lg:flex-row lg:justify-between mb-8"><div class="md:max-w-sm"><h2 class="mb-2 font-bold font-heading group sm:leading-none sm:text-4xl text-3xl tracking-tight">Related Posts</h2><a href="/blog" class="text-muted transition block dark:text-slate-400 duration-200 ease-in hover:text-primary lg:mb-0 mb-6">View All Posts »</a></div></div><div class="grid -mb-6 gap-6 lg:grid-cols-4 md:grid-cols-2 row-gap-5"><article class="transition mb-6"><div class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg mb-6 md:h-64 relative"><a href="/blog/2023/boom/devlog-8"><img alt="rejected ❌ | boom devlog 8" class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg md:h-full w-full" decoding="async" height="225" loading="lazy" sizes="(max-width: 900px) 400px, 900px" src="http://i3.ytimg.com/vi/WSfWK61JIAE/hqdefault.jpg" style="object-fit:cover;object-position:center;max-width:100%;max-height:100%" width="400"></a></div><h3 class="mb-2 font-bold font-heading leading-tight sm:text-2xl text-xl"><a href="/blog/2023/boom/devlog-8" class="transition duration-200 ease-in hover:text-primary dark:hover:text-blue-700">rejected ❌ | boom devlog 8</a></h3><p class="text-muted dark:text-slate-400 text-lg"></p></article><article class="transition mb-6"><div class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg mb-6 md:h-64 relative"><a href="/blog/2023/boom/devlog-9"><img alt="5 Lessons from Rewriting My App FOUR TIMES | boom devlog 9" class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg md:h-full w-full" decoding="async" height="225" loading="lazy" sizes="(max-width: 900px) 400px, 900px" src="http://i3.ytimg.com/vi/a72nZ0n_wd0/hqdefault.jpg" style="object-fit:cover;object-position:center;max-width:100%;max-height:100%" width="400"></a></div><h3 class="mb-2 font-bold font-heading leading-tight sm:text-2xl text-xl"><a href="/blog/2023/boom/devlog-9" class="transition duration-200 ease-in hover:text-primary dark:hover:text-blue-700">5 Lessons from Rewriting My App FOUR TIMES | boom devlog 9</a></h3><p class="text-muted dark:text-slate-400 text-lg"></p></article><article class="transition mb-6"><div class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg mb-6 md:h-64 relative"><a href="/blog/2022/wilr-1"><img alt="WILR1: React Native Basics" class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg md:h-full w-full" decoding="async" height="225" loading="lazy" sizes="(max-width: 900px) 400px, 900px" src="http://i3.ytimg.com/vi/THiU0OdK1C8/hqdefault.jpg" style="object-fit:cover;object-position:center;max-width:100%;max-height:100%" width="400"></a></div><h3 class="mb-2 font-bold font-heading leading-tight sm:text-2xl text-xl"><a href="/blog/2022/wilr-1" class="transition duration-200 ease-in hover:text-primary dark:hover:text-blue-700">WILR1: React Native Basics</a></h3><p class="text-muted dark:text-slate-400 text-lg"></p></article><article class="transition mb-6"><div class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg mb-6 md:h-64 relative"><a href="/blog/2022/webgl-1"><img alt="WebGL Experiment 1: Draw a Square in 30 Minutes" class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg md:h-full w-full" decoding="async" height="225" loading="lazy" sizes="(max-width: 900px) 400px, 900px" src="http://i3.ytimg.com/vi/9DY36BrGS1M/hqdefault.jpg" style="object-fit:cover;object-position:center;max-width:100%;max-height:100%" width="400"></a></div><h3 class="mb-2 font-bold font-heading leading-tight sm:text-2xl text-xl"><a href="/blog/2022/webgl-1" class="transition duration-200 ease-in hover:text-primary dark:hover:text-blue-700">WebGL Experiment 1: Draw a Square in 30 Minutes</a></h3><p class="text-muted dark:text-slate-400 text-lg"></p></article></div></div></section></main><footer class="relative not-prose border-gray-200 border-t dark:border-slate-800"><div class="absolute inset-0 pointer-events-none dark:bg-dark" aria-hidden="true"></div><div class="mx-auto sm:px-6 px-4 dark:text-slate-300 max-w-7xl relative"><div class="grid gap-4 gap-y-8 grid-cols-12 md:py-12 py-8 sm:gap-8"><div class="col-span-12 lg:col-span-4"><div class="mb-2"><a href="/" class="inline-block font-bold text-xl">PageKey</a></div><div class="text-muted text-sm"></div></div><div class="col-span-6 lg:col-span-2 md:col-span-3"><div class="mb-2 font-medium dark:text-gray-300">Products</div><ul class="text-sm"><li class="mb-2"><a href="/products/boom" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Boom Languages</a></li><li class="mb-2"><a href="/products/keydo" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">KeyDo</a></li><li class="mb-2"><a href="/products/keyreader" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">KeyReader</a></li><li class="mb-2"><a href="/products/pkos" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">PageKey Operating System</a></li><li class="mb-2"><a href="/products/pkvid" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">PKVid</a></li><li class="mb-2"><a href="/products/ptd" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Plaintext DAW</a></li></ul></div><div class="col-span-6 lg:col-span-2 md:col-span-3"><div class="mb-2 font-medium dark:text-gray-300">Community</div><ul class="text-sm"><li class="mb-2"><a href="https://github.com/pagekey" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">GitHub</a></li><li class="mb-2"><a href="https://discord.gg/5m5yFgDPF5" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Discord</a></li><li class="mb-2"><a href="https://youtube.com/@PageKey" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">YouTube</a></li></ul></div><div class="col-span-6 lg:col-span-2 md:col-span-3"><div class="mb-2 font-medium dark:text-gray-300">Tags</div><ul class="text-sm"><li class="mb-2"><a href="/blog/tags" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">All Tags</a></li><li class="mb-2"><a href="/tag/python" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Python</a></li><li class="mb-2"><a href="/tag/rust" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Rust</a></li></ul></div><div class="col-span-6 lg:col-span-2 md:col-span-3"><div class="mb-2 font-medium dark:text-gray-300">Languages</div><ul class="text-sm"><li class="mb-2"><a href="/blog" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">English</a></li><li class="mb-2"><a href="/tag/spanish" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Español</a></li><li class="mb-2"><a href="/tag/russian" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Русский</a></li></ul></div></div><div class="md:items-center md:flex md:justify-between md:py-8 py-6"><ul class="flex -ml-2 mb-4 md:mb-0 md:ml-4 md:order-1 rtl:-mr-2 rtl:md:ml-0 rtl:md:mr-4 rtl:ml-0"><li><a href="https://discord.gg/5m5yFgDPF5" class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="Discord"><svg class="h-5 w-5" data-icon="tabler:brand-discord" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-discord"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M8 12a1 1 0 1 0 2 0a1 1 0 0 0-2 0m6 0a1 1 0 1 0 2 0a1 1 0 0 0-2 0"/><path d="M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833-1.667 3.5-3c.667-1.667.5-5.833-1.5-11.5c-1.457-1.015-3-1.34-4.5-1.5l-.972 1.923a11.913 11.913 0 0 0-4.053 0L9 4c-1.5.16-3.043.485-4.5 1.5c-2 5.667-2.167 9.833-1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2-2 2-3"/><path d="M7 16.5c3.5 1 6.5 1 10 0"/></g></symbol><use xlink:href="#ai:tabler:brand-discord"></use></svg></a></li><li><a href="https://youtube.com/@PageKey" class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="YouTube"><svg class="h-5 w-5" data-icon="tabler:brand-youtube" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-youtube"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M2 8a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4z"/><path d="m10 9l5 3l-5 3z"/></g></symbol><use xlink:href="#ai:tabler:brand-youtube"></use></svg></a></li><li><a href="https://github.com/pagekey" class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="Github"><svg class="h-5 w-5" data-icon="tabler:brand-github" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-github"><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2c2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2a4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6c-.6.6-.6 1.2-.5 2V21" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:brand-github"></use></svg></a></li><li><a href="https://instagram.com/pagekeysolutions" class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="Instagram"><svg class="h-5 w-5" data-icon="tabler:brand-instagram" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-instagram"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 8a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4z"/><path d="M9 12a3 3 0 1 0 6 0a3 3 0 1 0-6 0m7.5-4.5v.01"/></g></symbol><use xlink:href="#ai:tabler:brand-instagram"></use></svg></a></li><li><a href="/rss.xml" class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="RSS"><svg class="h-5 w-5" data-icon="tabler:rss" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:rss"><path d="M4 19a1 1 0 1 0 2 0a1 1 0 1 0-2 0M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:rss"></use></svg></a></li></ul><div class="dark:text-muted mr-4 text-sm"><span class="h-5 w-5 bg-[url(/favicon.ico)] bg-cover float-left md:-mt-0.5 md:h-6 md:w-6 mr-1.5 rounded-sm rtl:float-right rtl:ml-1.5 rtl:mr-0"></span> Copyright &copy; 2024 PageKey Solutions, LLC · All rights reserved.</div></div></div></footer><script>!function(){const e="system";if(window.basic_script)return;function t(e){"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}window.basic_script=!0;const d=function(){e&&e.endsWith(":only")||(localStorage.theme,0)?t(e.replace(":only","")):"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):t("light")};function a(e,t,d){const a="string"==typeof e?document.querySelectorAll(e):e;a&&a.length&&a.forEach((e=>{e.addEventListener(t,(t=>d(t,e)),!1)}))}d();const o=function(){let t=window.scrollY,d=!0;function o(){const e=document.querySelector("#header[data-aw-sticky-header]");t>60&&!e.classList.contains("scroll")?document.getElementById("header").classList.add("scroll"):t<=60&&e.classList.contains("scroll")&&document.getElementById("header").classList.remove("scroll"),d=!1}a("#header nav","click",(function(){document.querySelector("[data-aw-toggle-menu]")?.classList.remove("expanded"),document.body.classList.remove("overflow-hidden"),document.getElementById("header")?.classList.remove("h-screen"),document.getElementById("header")?.classList.remove("expanded"),document.getElementById("header")?.classList.remove("bg-page"),document.querySelector("#header nav")?.classList.add("hidden"),document.querySelector("#header > div > div:last-child")?.classList.add("hidden")})),a("[data-aw-toggle-menu]","click",(function(e,t){t.classList.toggle("expanded"),document.body.classList.toggle("overflow-hidden"),document.getElementById("header")?.classList.toggle("h-screen"),document.getElementById("header")?.classList.toggle("expanded"),document.getElementById("header")?.classList.toggle("bg-page"),document.querySelector("#header nav")?.classList.toggle("hidden"),document.querySelector("#header > div > div:last-child")?.classList.toggle("hidden")})),a("[data-aw-toggle-color-scheme]","click",(function(){e.endsWith(":only")||(document.documentElement.classList.toggle("dark"),localStorage.theme=document.documentElement.classList.contains("dark")?"dark":"light")})),a("[data-aw-social-share]","click",(function(e,t){const d=t.getAttribute("data-aw-social-share"),a=encodeURIComponent(t.getAttribute("data-aw-url")),o=encodeURIComponent(t.getAttribute("data-aw-text"));let n;switch(d){case"facebook":n=`https://www.facebook.com/sharer.php?u=${a}`;break;case"twitter":n=`https://twitter.com/intent/tweet?url=${a}&text=${o}`;break;case"linkedin":n=`https://www.linkedin.com/shareArticle?mini=true&url=${a}&title=${o}`;break;case"whatsapp":n=`https://wa.me/?text=${o}%20${a}`;break;case"mail":n=`mailto:?subject=%22${o}%22&body=${o}%20${a}`;break;default:return}const c=document.createElement("a");c.target="_blank",c.href=n,c.click()})),window.matchMedia("(max-width: 767px)").addEventListener("change",(function(){document.querySelector("[data-aw-toggle-menu]")?.classList.remove("expanded"),document.body.classList.remove("overflow-hidden"),document.getElementById("header")?.classList.remove("h-screen"),document.getElementById("header")?.classList.remove("expanded"),document.getElementById("header")?.classList.remove("bg-page"),document.querySelector("#header nav")?.classList.add("hidden"),document.querySelector("#header > div > div:last-child")?.classList.add("hidden")})),o(),a([document],"scroll",(function(){t=window.scrollY,d||(window.requestAnimationFrame((()=>{o()})),d=!0)}))},n=function(){document.documentElement.classList.add("motion-safe:scroll-smooth");const e=document.querySelector("[data-aw-toggle-menu]");e&&e.classList.remove("expanded"),document.body.classList.remove("overflow-hidden"),document.getElementById("header")?.classList.remove("h-screen"),document.getElementById("header")?.classList.remove("expanded"),document.querySelector("#header nav")?.classList.add("hidden")};window.onload=o,window.onpageshow=n,document.addEventListener("astro:after-swap",(()=>{d(),o(),n()}))}()</script><script type="module">import mermaid from"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";async function renderDiagrams(e){mermaid.initialize({startOnLoad:!1,fontFamily:"var(--sans-font)",theme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"});for(const m of e){const e=m.querySelector(".mermaid-src").innerText;if(!e)continue;let r=document.createElement("svg");const a=r.id="mermaid-"+Math.round(1e5*Math.random());m.appendChild(r),mermaid.render(a,e).then((e=>{m.innerHTML=e.svg}))}}const graphs=document.getElementsByClassName("mermaid");document.getElementsByClassName("mermaid").length>0&&renderDiagrams(graphs)</script></body></html><script async src="https://www.googletagmanager.com/gtag/js?id=G-LCGN32XDMX"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-LCGN32XDMX")</script>